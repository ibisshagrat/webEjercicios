(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{i5SR:function(t,a,r){"use strict";r.r(a),r.d(a,"MagicModule",(function(){return f}));var e=r("ofXK"),c=r("tyNb"),n=r("fXoL"),i=r("AytR"),s=r("IheW");let o=(()=>{class t{constructor(t){this.http=t,this.urlEndPoint=i.a.hostMagic}getSets(){return this.http.get(this.urlEndPoint+"sets")}getCartasSet(t){return this.http.get(`${this.urlEndPoint}cards?set=${t}`)}mapearSets(t){let a=[];return a=t.sets,a}mapearCartas(t){let a=[];return a=t.cards,a}}return t.\u0275fac=function(a){return new(a||t)(n.Pb(s.a))},t.\u0275prov=n.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=r("3Pt+");let b=(()=>{class t{constructor(){this.mostrarCarta=new n.n,this.longitudMax=50}ngOnInit(){this.dataTarget=""+this.carta.id,this.dataTargetId="#"+this.carta.id,null!=this.carta.flavor&&(this.flavor=this.carta.flavor.length>this.longitudMax?this.carta.flavor.substr(0,this.longitudMax)+"...":this.carta.flavor)}onSolicitarModal(){return this.mostrarCarta.emit()}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=n.Cb({type:t,selectors:[["app-carta"]],inputs:{carta:"carta"},outputs:{mostrarCarta:"mostrarCarta"},decls:16,vars:10,consts:[[1,"col-2"],[1,"card","align-items-center",2,"width","12rem"],["data-toggle","modal","type","button","id","imagenCarta",1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"font-italic","smaller"],["tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"id"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"background-color","transparent"],[1,"modal-body"],[1,"imagenModal",3,"src","alt"]],template:function(t,a){1&t&&(n.Lb(0,"div",0),n.Lb(1,"div",1),n.Jb(2,"img",2),n.Lb(3,"div",3),n.Lb(4,"h5",4),n.mc(5),n.Kb(),n.Lb(6,"p",5),n.mc(7),n.Jb(8,"br"),n.Lb(9,"small",6),n.mc(10),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Lb(11,"div",7),n.Lb(12,"div",8),n.Lb(13,"div",9),n.Lb(14,"div",10),n.Jb(15,"img",11),n.Kb(),n.Kb(),n.Kb(),n.Kb()),2&t&&(n.xb(2),n.ac("src",a.carta.imageUrl,n.ic)("alt",a.carta.name),n.yb("data-target",a.dataTargetId),n.xb(3),n.nc(a.carta.name),n.xb(2),n.pc("",a.carta.colors," ",a.carta.type," "),n.xb(3),n.nc(a.flavor),n.xb(1),n.ac("id",a.dataTarget),n.xb(4),n.ac("src",a.carta.imageUrl,n.ic)("alt",a.carta.name))},styles:[".card[_ngcontent-%COMP%] { background-color: rgba(255,255,255,0.5); }","img[_ngcontent-%COMP%] { cursor: pointer; }",".imagenModal[_ngcontent-%COMP%] { border-radius: 15px }"]}),t})();function d(t,a){if(1&t){const t=n.Mb();n.Lb(0,"div",1),n.Lb(1,"app-carta",2),n.Sb("mostrarCarta",(function(){n.gc(t);const r=a.$implicit;return n.Ub().solicitarModal(r)})),n.Kb(),n.Kb()}if(2&t){const t=a.$implicit;n.xb(1),n.ac("carta",t)}}let g=(()=>{class t{constructor(t){this.magicService=t,this.mostrarCarta=new n.n}ngOnInit(){}solicitarModal(t){return this.mostrarCarta.emit(t)}}return t.\u0275fac=function(a){return new(a||t)(n.Ib(o))},t.\u0275cmp=n.Cb({type:t,selectors:[["app-set"]],inputs:{set:"set",cartas:"cartas"},outputs:{mostrarCarta:"mostrarCarta"},decls:1,vars:1,consts:[["class","d-inline-flex",4,"ngFor","ngForOf"],[1,"d-inline-flex"],[3,"carta","mostrarCarta"]],template:function(t,a){1&t&&n.kc(0,d,2,1,"div",0),2&t&&n.ac("ngForOf",a.cartas)},directives:[e.k,b],encapsulation:2}),t})();function u(t,a){if(1&t&&(n.Lb(0,"option",6),n.Lb(1,"span"),n.mc(2),n.Kb(),n.Kb()),2&t){const t=a.$implicit;n.ac("value",t.code),n.xb(2),n.nc(t.name)}}function m(t,a){if(1&t){const t=n.Mb();n.Lb(0,"div"),n.Lb(1,"app-set",7),n.Sb("mostrarCarta",(function(a){return n.gc(t),n.Ub().mostrarCarta(a)})),n.Kb(),n.Kb()}if(2&t){const t=n.Ub();n.xb(1),n.ac("set",t.set)("cartas",t.cartas)}}const h=[{path:"",component:(()=>{class t{constructor(t){this.magicService=t,this.sets=[],this.codigoSet=null}ngOnInit(){this.magicService.getSets().subscribe(t=>{this.sets=this.magicService.mapearSets(t),console.log(this.sets)})}cargarSet(){this.set=null,console.log("cargar ",this.codigoSet),this.set=this.sets.filter(t=>t.code==this.codigoSet)[0],this.magicService.getCartasSet(this.set.code).subscribe(t=>{this.cartas=this.magicService.mapearCartas(t),console.log(this.cartas)})}}return t.\u0275fac=function(a){return new(a||t)(n.Ib(o))},t.\u0275cmp=n.Cb({type:t,selectors:[["app-magic"]],decls:12,vars:3,consts:[["id","mtg",1,"text-center"],["src","./assets/MagicLogo.png","alt","Magic: the Gathering"],[1,"font-weight-bold"],["name","sets",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"set","cartas","mostrarCarta"]],template:function(t,a){1&t&&(n.Lb(0,"div",0),n.Lb(1,"h2"),n.Jb(2,"img",1),n.Kb(),n.Lb(3,"div",2),n.mc(4,"Tu aplicaci\xf3n de Magic: the Gathering definitiva."),n.Kb(),n.Jb(5,"hr"),n.Lb(6,"div"),n.Lb(7,"span",2),n.mc(8,"Elige una colecci\xf3n:"),n.Kb(),n.Lb(9,"select",3),n.Sb("ngModelChange",(function(t){return a.codigoSet=t}))("change",(function(){return a.cargarSet()})),n.kc(10,u,3,2,"option",4),n.Kb(),n.Kb(),n.kc(11,m,2,2,"div",5),n.Kb()),2&t&&(n.xb(9),n.ac("ngModel",a.codigoSet),n.xb(1),n.ac("ngForOf",a.sets),n.xb(1),n.ac("ngIf",null!=a.codigoSet))},directives:[l.l,l.d,l.g,e.k,e.l,l.h,l.m,g],styles:['#mtg[_ngcontent-%COMP%] { background-image: url("./assets/mtg.jpg"); background-repeat: repeat-y; background-attachment: fixed; background-position: center; height: 88vh }']}),t})()}];let p=(()=>{class t{}return t.\u0275mod=n.Gb({type:t}),t.\u0275inj=n.Fb({factory:function(a){return new(a||t)},imports:[[c.f.forChild(h)],c.f]}),t})(),f=(()=>{class t{}return t.\u0275mod=n.Gb({type:t}),t.\u0275inj=n.Fb({factory:function(a){return new(a||t)},imports:[[e.b,p,l.c]]}),t})()}}]);