{"version":3,"sources":["./src/app/participantes/participantes/participantes.component.ts","./src/app/participantes/participantes/participantes.component.html","./src/app/participantes/participantes.module.ts","./src/app/participantes/models/participante-impl.ts","./src/app/participantes/services/participante.service.ts","./src/app/participantes/participantes-routing.module.ts","./src/app/participantes/participantes/participante/participante.component.ts","./src/app/participantes/participantes/participante/participante.component.html","./src/app/participantes/participante-form/participante-form.component.ts","./src/app/participantes/participante-form/participante-form.component.html"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;;;;;;;;ICQlD,sEACE;IAAA,sFAC2E;IAAzD,2VAAqC;IAAC,4DAAmB;IAC7E,4DAAM;;;IAFc,0DAA6B;IAA7B,yFAA6B;;ADG1C,MAAM,sBAAsB;IAKjC,YAAoB,mBAAwC;QAAxC,wBAAmB,GAAnB,mBAAmB,CAAqB;QAH5D,kBAAa,GAAkB,EAAE,CAAC;IAG8B,CAAC;IAEjE,QAAQ;QACN,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YAC/D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;QAC/E,CAAC,CAAC;IACJ,CAAC;IAEM,kBAAkB,CAAC,EAAS;QACjC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YACvD,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,EAAE,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;YAClD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QAChE,CAAC,CAAC;IACN,CAAC;;4FAlBU,sBAAsB;sGAAtB,sBAAsB;QCZnC,yEACE;QAAA,yEACE;QAAA,qEAAI;QAAA,wEAAa;QAAA,4DAAK;QACxB,4DAAM;QACN,yEACE;QAAA,4EAAkD;QAAA,4EAAiB;QAAA,4DAAS;QAC9E,4DAAM;QACR,4DAAM;QACN,kHACE;;QADG,0DAA0C;QAA1C,sFAA0C;;6FDIlC,sBAAsB;cANlC,uDAAS;eAAC;gBACT,QAAQ,EAAE,mBAAmB;gBAC7B,WAAW,EAAE,gCAAgC;gBAC7C,MAAM,EAAE,EACP;aACF;;;;;;;;;;;;;;AEXD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AAE6B;AACK;AACW;AACA;AAC/C;;AAUtC,MAAM,mBAAmB;;kGAAnB,mBAAmB;gKAAnB,mBAAmB,kBANrB;YACP,4DAAY;YACZ,wFAA0B;YAC1B,0DAAW;SACZ;mIAEU,mBAAmB,mBAPf,6FAAsB,EAAE,wGAAqB,EAAE,wGAAyB,aAErF,4DAAY;QACZ,wFAA0B;QAC1B,0DAAW;6FAGF,mBAAmB;cAR/B,sDAAQ;eAAC;gBACR,YAAY,EAAE,CAAC,6FAAsB,EAAE,wGAAqB,EAAE,wGAAyB,CAAC;gBACxF,OAAO,EAAE;oBACP,4DAAY;oBACZ,wFAA0B;oBAC1B,0DAAW;iBACZ;aACF;;;;;;;;;;;;;;ACdD;AAAA;AAAO,MAAM,gBAAgB;IAIzB,KAAK;QACD,OAAO,IAAI,CAAC,EAAE,CAAC;IACnB,CAAC;CACJ;;;;;;;;;;;;;ACRD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AACG;AACa;AAEI;AACnB;;;AAKrC,MAAM,mBAAmB;IAI9B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAHpC,SAAI,GAAW,wEAAW,CAAC,WAAW,CAAC;QACvC,uBAAkB,GAAW,GAAG,IAAI,CAAC,IAAI,iBAAiB,CAAC;IAEpB,CAAC;IAExC,gBAAgB;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,kBAAkB,mBAAmB,CAAC,CAAC;IACtE,CAAC;IAED,eAAe,CAAC,EAAS;QACvB,IAAI,MAAM,GAAG,GAAG,IAAI,CAAC,kBAAkB,GAAG,EAAE,EAAE,CAAC;QAC/C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAC/B,iEAAU,CAAC,CAAC,CAAC,EAAE,EAAE;YACf,IAAI,CAAC,CAAC,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE;gBACvC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aAChC;YACD,OAAO,uDAAU,CAAC,CAAC,CAAC,CAAC;QACvB,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAED,kBAAkB,CAAC,YAA0B;QAC3C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,kBAAkB,IAAI,YAAY,CAAC,EAAE,EAAE,EAAE,YAAY,CAAC,CAAC,IAAI,CACtF,iEAAU,CAAC,CAAC,CAAC,EAAE,EAAE;YACf,IAAI,CAAC,CAAC,MAAM,KAAK,GAAG,EAAE;gBACpB,OAAO,uDAAU,CAAC,CAAC,CAAC,CAAC;aACtB;YACD,IAAI,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE;gBACnB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aAChC;YACD,OAAO,uDAAU,CAAC,CAAC,CAAC,CAAC;QACvB,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,EAAU;QACf,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,kBAAkB,GAAG,EAAE,EAAE,CAAC;aACzD,IAAI,CACH,iEAAU,CAAC,CAAC,CAAC,EAAE,EAAE;YACf,IAAI,CAAC,CAAC,MAAM,KAAK,GAAG,EAAE;gBACpB,OAAO,CAAC,KAAK,CAAC,mFAAmF,CAAC,CAAC;aACpG;YACD,OAAO,uDAAU,CAAC,CAAC,CAAC,CAAC;QACvB,CAAC,CAAC,CACH,CAAC;IAEJ,CAAC;IAED,oBAAoB,CAAC,YAAiB;QACpC,MAAM,aAAa,GAAmB,EAAE,CAAC;QACzC,IAAI,mBAAiC,CAAC;QACtC,YAAY,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;YACjD,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QACH,OAAO,aAAa,CAAC;IACvB,CAAC;IAED,kBAAkB,CAAC,eAAoB;QACrC,MAAM,YAAY,GAAqB,IAAI,0EAAgB,EAAE,CAAC;QAC9D,YAAY,CAAC,EAAE,GAAG,eAAe,CAAC,EAAE,CAAC;QACrC,YAAY,CAAC,MAAM,GAAG,eAAe,CAAC,MAAM,CAAC;QAC7C,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;QACnE,OAAO,YAAY,CAAC;IACtB,CAAC;IAED,gBAAgB,CAAC,YAA0B;QACzC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,kBAAkB,EAAE,EAAE,YAAY,CAAC,CAAC,IAAI,CACpE,iEAAU,CAAC,CAAC,CAAC,EAAE,EAAE;YACf,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,IAAI,CAAC,CAAC,MAAM,KAAK,GAAG,EAAE;gBACpB,OAAO,uDAAU,CAAC,CAAC,CAAC,CAAC;aACtB;YACD,IAAI,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE;gBACnB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aAChC;YACD,OAAO,uDAAU,CAAC,CAAC,CAAC,CAAC;QACvB,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;;sFA/EU,mBAAmB;sGAAnB,mBAAmB,WAAnB,mBAAmB,mBAFlB,MAAM;6FAEP,mBAAmB;cAH/B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoD;AACG;AACqC;AACX;;;AAEjF,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,6FAAsB;KAClC;IACD;QACE,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,wGAAyB;KACrC;IACD;QACE,IAAI,EAAE,YAAY;QAClB,SAAS,EAAE,wGAAyB;KACrC;CACF,CAAC;AAMK,MAAM,0BAA0B;;yGAA1B,0BAA0B;8KAA1B,0BAA0B,kBAH5B,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAC9B,4DAAY;mIAEX,0BAA0B,uFAF3B,4DAAY;6FAEX,0BAA0B;cAJtC,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;ACvBD;AAAA;AAAA;AAAA;AAA+E;;;AASxE,MAAM,qBAAqB;IAKhC;QAHiB,WAAM,GAAG,IAAI,0DAAY,EAAU,CAAC;IAGrC,CAAC;IAEjB,QAAQ;QACN,IAAI,CAAC,UAAU,GAAG,UAAU,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC;IACrD,CAAC;IAED,QAAQ,CAAC,EAAS;QAChB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACvB,CAAC;;0FAdU,qBAAqB;qGAArB,qBAAqB;QCTlC,yEACE;QAAA,yEAAmB;QAAA,uDAAuB;QAAA,4DAAM;QAChD,yEAAsB;QAAA,4EAA0D;QAAA,iEAAM;QAAA,4DAAS;QAAA,4DAAM;QACrG,yEAAsB;QAAA,4EAAoE;QAApC,6IAAS,iCAAyB,IAAC;QAAC,iEAAM;QAAA,4DAAS;QAAA,4DAAM;QACjH,4DAAM;;QAHe,0DAAuB;QAAvB,wFAAuB;QACY,0DAAyB;QAAzB,iGAAyB;;6FDOpE,qBAAqB;cANjC,uDAAS;eAAC;gBACT,QAAQ,EAAE,kBAAkB;gBAC5B,WAAW,EAAE,+BAA+B;gBAC5C,MAAM,EAAE,EACP;aACF;sCAEU,YAAY;kBAApB,mDAAK;YACW,MAAM;kBAAtB,oDAAM;;;;;;;;;;;;;;AEXT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAGa;;;;;AAQxD,MAAM,yBAAyB;IAKpC,YACU,KAAqB,EACrB,mBAAwC,EACxC,MAAc;QAFd,UAAK,GAAL,KAAK,CAAgB;QACrB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,WAAM,GAAN,MAAM,CAAQ;IACrB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;SAC1B;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;SAC/B;IACH,CAAC;IAEO,KAAK;QACX,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;QACnD,IAAI,YAAY,IAAI,SAAS,EAAE;YAC7B,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;gBAC1E,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;gBAC1E,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YAC9D,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;SAC5D;aAAM;YACL,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,YAAY,GAAG,IAAI,0EAAgB,EAAE,CAAC;YAC3C,IAAI,CAAC,YAAY,CAAC,EAAE,GAAG,EAAE,CAAC;YAC1B,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,CAAC;SAC/B;IACH,CAAC;IAEM,QAAQ;QACb,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,mBAAmB;iBACrB,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC;iBACnC,SAAS,CAAC,CAAC,QAAQ,EAAE,EAAE;gBACtB,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAC1D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAC3C,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,EAAE;gBACpF,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAC7D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAC3C,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;;kGAlDU,yBAAyB;yGAAzB,yBAAyB;QCXtC,qEAAI;QAAA,uDAA2B;QAAA,4DAAK;QAEpC,gFACA;QAAA,yEACE;QAAA,yEACE;QAAA,2EAA0B;QAAA,iEAAM;QAAA,4DAAQ;QAC1C,4DAAM;QACN,yEACE;QAAA,2EACF;QADuC,0MAAiC;QAAtE,4DACF;QAAA,4DAAM;QACR,4DAAM;QACN,0EACE;QAAA,0EACE;QAAA,4EAAsB;QAAA,8DAAE;QAAA,4DAAQ;QAClC,4DAAM;QACN,0EACE;QAAA,4EACF;QADmC,uMAA6B;QAA9D,4DACF;QAAA,4DAAM;QACR,4DAAM;QACN,qEACE;QAAA,6EAAgH;QAAtF,kJAAS,cAAU,IAAC;QAAkE,mEAAO;QAAA,4DAAS;QAClI,4DAAI;QACJ,4DAAO;;;QAtBH,0DAA2B;QAA3B,qGAA2B;QAQU,0DAAiC;QAAjC,4FAAiC;QAQrC,0DAA6B;QAA7B,wFAA6B;QAIO,0DAAwC;QAAxC,qFAAwC;;6FDTpG,yBAAyB;cALrC,uDAAS;eAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,WAAW,EAAE,oCAAoC;gBACjD,MAAM,EAAE,EAAE;aACX","file":"participantes-participantes-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Participante } from '../models/participante';\r\nimport { ParticipanteService } from '../services/participante.service';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-participantes',\r\n  templateUrl: './participantes.component.html',\r\n  styles: [\r\n  ]\r\n})\r\nexport class ParticipantesComponent implements OnInit {\r\n\r\n  participantes:Participante[] = [];\r\n  Router: any;\r\n\r\n  constructor(private participanteService: ParticipanteService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.participanteService.getParticipantes().subscribe(response => {\r\n      this.participantes = this.participanteService.extraerParticipantes(response);\r\n    })\r\n  }\r\n\r\n  public borrarParticipante(id:string) {\r\n    this.participanteService.delete(id).subscribe(response => {\r\n      console.log(\"se elimino a \", id, response.status);\r\n      this.participantes = this.participantes.filter(p => p.id != id);\r\n      })\r\n  }\r\n\r\n}\r\n\r\n","<div class=\"row\">\r\n  <div class=\"col-10\">\r\n    <h2>Participantes</h2>\r\n  </div>\r\n  <div class=\"col-2\">\r\n    <button class=\"btn btn-primary\" routerLink=\"alta\">Alta participante</button>\r\n  </div>\r\n</div>\r\n<div *ngFor=\"let participante of participantes\">\r\n  <app-participante [participante]=\"participante\"\r\n                    (borrar)=\"borrarParticipante($event)\"></app-participante>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ParticipantesRoutingModule } from './participantes-routing.module';\r\nimport { ParticipantesComponent } from './participantes/participantes.component';\r\nimport { ParticipanteComponent } from './participantes/participante/participante.component';\r\nimport { ParticipanteFormComponent } from './participante-form/participante-form.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [ParticipantesComponent, ParticipanteComponent, ParticipanteFormComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ParticipantesRoutingModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class ParticipantesModule { }\r\n","import { Participante } from \"./participante\";\r\n\r\nexport class ParticipanteImpl implements Participante{\r\n    id: string;\r\n    nombre: string;\r\n\r\n    getId(): string {\r\n        return this.id;\r\n    }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Participante } from '../models/participante';\r\nimport { ParticipanteImpl } from '../models/participante-impl';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ParticipanteService {\r\n  host: string = environment.hostHateoas;\r\n  urlEndPointHateoas: string = `${this.host}/participantes/`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getParticipantes(): Observable<any> {\r\n    return this.http.get(`${this.urlEndPointHateoas}?page=0&size=1000`);\r\n  }\r\n\r\n  getParticipante(id:string): Observable<any> {\r\n    let urlGet = `${this.urlEndPointHateoas}${id}`;\r\n    return this.http.get(urlGet).pipe(\r\n      catchError((e) => {\r\n        if (e.status !== 401 && e.error.mensaje) {\r\n          console.error(e.error.mensaje);\r\n        }\r\n        return throwError(e);\r\n      })\r\n    );\r\n  }\r\n\r\n  editarParticipante(participante: Participante): Observable<any> {\r\n    return this.http.put(`${this.urlEndPointHateoas}/${participante.id}`, participante).pipe(\r\n      catchError((e) => {\r\n        if (e.status === 400) {\r\n          return throwError(e);\r\n        }\r\n        if (e.error.mensaje) {\r\n          console.error(e.error.mensaje);\r\n        }\r\n        return throwError(e);\r\n      })\r\n    );\r\n  }\r\n\r\n  delete(id: string): Observable<any> {\r\n    return this.http.delete(`${this.urlEndPointHateoas}${id}`)\r\n    .pipe(\r\n      catchError((e) => {\r\n        if (e.status === 405) {\r\n          console.error('Pide permisos para tocar la BBDD del jefe, y limpia toda la broza que has dejado!');\r\n        }\r\n        return throwError(e);\r\n      })\r\n    );\r\n\r\n  }\r\n\r\n  extraerParticipantes(respuestaApi: any): Participante[] {\r\n    const participantes: Participante[] = [];\r\n    let participanteMapeado: Participante;\r\n    respuestaApi._embedded.participantes.forEach((p) => {\r\n      participantes.push(this.mapearParticipante(p));\r\n    });\r\n    return participantes;\r\n  }\r\n\r\n  mapearParticipante(participanteAPI: any): ParticipanteImpl {\r\n    const participante: ParticipanteImpl = new ParticipanteImpl();\r\n    participante.id = participanteAPI.id;\r\n    participante.nombre = participanteAPI.nombre;\r\n    console.log(\"Dentro mapear\", participante.id, participante.nombre);\r\n    return participante;\r\n  }\r\n\r\n  altaParticipante(participante: Participante): Observable<any> {\r\n    return this.http.post(`${this.urlEndPointHateoas}`, participante).pipe(\r\n      catchError((e) => {\r\n        console.log(\"error\");\r\n        if (e.status === 400) {\r\n          return throwError(e);\r\n        }\r\n        if (e.error.mensaje) {\r\n          console.error(e.error.mensaje);\r\n        }\r\n        return throwError(e);\r\n      })\r\n    );\r\n  }\r\n\r\n}\r\n","import { Component, NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ParticipanteFormComponent } from './participante-form/participante-form.component';\r\nimport { ParticipantesComponent } from './participantes/participantes.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ParticipantesComponent\r\n  },\r\n  {\r\n    path: 'alta',\r\n    component: ParticipanteFormComponent\r\n  },\r\n  {\r\n    path: 'editar/:id',\r\n    component: ParticipanteFormComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ParticipantesRoutingModule { }\r\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { Participante } from '../../models/participante';\r\n\r\n@Component({\r\n  selector: 'app-participante',\r\n  templateUrl: './participante.component.html',\r\n  styles: [\r\n  ]\r\n})\r\nexport class ParticipanteComponent implements OnInit {\r\n  @Input() participante:Participante;\r\n  @Output() public borrar = new EventEmitter<string>();\r\n  rutaEditar: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    this.rutaEditar = `editar/${this.participante.id}`;\r\n  }\r\n\r\n  onBorrar(id:string) {\r\n    console.log(\"empezamos el borrado\");\r\n    this.borrar.emit(id);\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-2\">{{participante.nombre}}</div>\r\n  <div class=\"col-auto\"><button class=\"btn btn-primary\" routerLink={{rutaEditar}}>Editar</button></div>\r\n  <div class=\"col-auto\"><button class=\"btn btn-primary\" (click)=\"onBorrar(participante.id)\">Borrar</button></div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Participante } from '../models/participante';\r\nimport { ParticipanteImpl } from '../models/participante-impl';\r\nimport { ParticipanteService } from '../services/participante.service';\r\n\r\n@Component({\r\n  selector: 'app-participante-form',\r\n  templateUrl: './participante-form.component.html',\r\n  styles: [],\r\n})\r\nexport class ParticipanteFormComponent implements OnInit {\r\n  tipoAcceso: string;\r\n  participante: Participante;\r\n  esAlta: boolean;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private participanteService: ParticipanteService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.getId();\r\n    if (this.esAlta) {\r\n      this.tipoAcceso = 'Alta';\r\n    } else {\r\n      this.tipoAcceso = 'Modificar';\r\n    }\r\n  }\r\n\r\n  private getId() {\r\n    const idRecuperada = this.route.snapshot.params.id;\r\n    if (idRecuperada != undefined) {\r\n      this.participanteService.getParticipante(idRecuperada).subscribe(response => {\r\n        this.participante = this.participanteService.mapearParticipante(response);\r\n        console.log(\"dentro del suscripcion\", this.participante.id);\r\n      });\r\n      console.log(\"fuera de la subscripcion\", this.participante);\r\n    } else {\r\n      this.esAlta = true;\r\n      this.participante = new ParticipanteImpl();\r\n      this.participante.id = '';\r\n      this.participante.nombre = '';\r\n    }\r\n  }\r\n\r\n  public onEnviar() {\r\n    if (this.esAlta) {\r\n      this.participanteService\r\n        .altaParticipante(this.participante)\r\n        .subscribe((response) => {\r\n          console.log('Se ha añadido a ', this.participante.nombre);\r\n          this.router.navigate(['/participantes']);\r\n        });\r\n    } else {\r\n      this.participanteService.editarParticipante(this.participante).subscribe((response) => {\r\n        console.log('Se ha modificado a ', this.participante.nombre);\r\n        this.router.navigate(['/participantes']);\r\n      });\r\n    }\r\n  }\r\n}\r\n","<h1>{{tipoAcceso}} participante</h1>\r\n\r\n<form #formParticipantes=ngForm>\r\n<div class=\"row\">\r\n  <div class=\"col-1\">\r\n    <label for=\"nombreEquipo\">Nombre</label>\r\n  </div>\r\n  <div class=\"col-auto\">\r\n    <input id=\"nombreEquipo\" type=\"text\" [(ngModel)]=\"participante.nombre\" name=\"id\" required>\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-1\">\r\n    <label for=\"idEquipo\">id</label>\r\n  </div>\r\n  <div class=\"col-auto\">\r\n    <input type=\"text\" id=\"idEquipo\" [(ngModel)]=\"participante.id\" name=\"nombre\" required [readonly]=\"!esAlta\">\r\n  </div>\r\n</div>\r\n<p>\r\n  <button id=\"botonAceptar\" (click)=\"onEnviar()\" class=\"btn btn-primary\" [disabled]=!formParticipantes.form.valid>Aceptar</button>\r\n</p>\r\n</form>\r\n"],"sourceRoot":"webpack:///"}