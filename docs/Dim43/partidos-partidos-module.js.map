{"version":3,"sources":["./src/app/partidos/services/partidos.service.ts","./src/app/partidos/partidos/partidos.component.ts","./src/app/partidos/partidos/partidos.component.html","./src/app/partidos/services/partidos-api-no-inverso.service.ts","./src/app/partidos/partidos/partido/partido.component.ts","./src/app/partidos/partidos/partido/partido.component.html","./src/app/partidos/partidos-routing.module.ts","./src/app/partidos/partidos/tarjeta/tarjeta.component.ts","./src/app/partidos/partidos/tarjeta/tarjeta.component.html","./src/app/partidos/models/partido-impl.ts","./src/app/partidos/services/partidos-api.service.ts","./src/app/partidos/services/partidos-obtener.service.ts","./src/app/partidos/services/partidos-environment.service.ts","./src/app/partidos/partidos.module.ts"],"names":[],"mappings":"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","file":"partidos-partidos-module.js","sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Partido } from '../models/partido';\r\nimport { PartidoImpl } from '../models/partido-impl';\r\nimport { Suceso } from '../models/suceso';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PartidosService {\r\n\r\n\r\n  objeto: any;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public getPartidosEnvironment(): Partido[] {\r\n    return environment.partidos;\r\n  }\r\n\r\n  public getPartidosApi(): Partido[] {\r\n    return null;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Partido } from '../models/partido';\r\nimport { Suceso } from '../models/suceso';\r\nimport { PartidosApiNoInversoService } from '../services/partidos-api-no-inverso.service';\r\n@Component({\r\n  selector: 'app-partidos',\r\n  templateUrl: './partidos.component.html',\r\n  styles: [],\r\n})\r\nexport class PartidosComponent implements OnInit {\r\n  public partidos: Partido[] = [];\r\n  public partido: Partido = null;\r\n  public idPartido: number;\r\n  public muestraTarjetas: boolean = false;\r\n  public tarjetas: Suceso[] = [];\r\n\r\n  constructor(private partidosApi: PartidosApiNoInversoService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.partidosApi.getPartidos().subscribe(response => {\r\n      this.partidos = this.partidosApi.extraerPartidos(response);\r\n    }\r\n      );\r\n  }\r\n\r\n  public getPartido(): void {\r\n    let resultado: Partido = this.partidos.filter(\r\n      (c) => c.id == this.idPartido\r\n    )[0];\r\n    this.partido = resultado;\r\n    this.calcularResultado();\r\n    this.isTarjetas();\r\n    this.mostrarTarjetas(false);\r\n  }\r\n\r\n  public calcularResultado(): void {\r\n    let goles: Suceso[] = this.partido.sucesos.filter((s) => s.class == 'Gol');\r\n    this.partido.marcadorLocal = goles.filter(\r\n      (g) => g.idParticipante == this.partido.idLocal\r\n    ).length;\r\n    this.partido.marcadorVisitante = goles.filter(\r\n      (g) => g.idParticipante == this.partido.idVisitante\r\n    ).length;\r\n  }\r\n\r\n  public isTarjetas(): void {\r\n    let cantidadTarjetas = this.partido.sucesos.filter(s => s.class == \"Tarjeta\").length;\r\n    if (cantidadTarjetas > 0) {\r\n      this.partido.hayTarjetas = true;\r\n    } else {\r\n      this.partido.hayTarjetas = false;\r\n    }\r\n  }\r\n\r\n  public mostrarTarjetas(orden: boolean) {\r\n    this.muestraTarjetas = orden;\r\n    if (orden) {\r\n      this.tarjetas = this.partido.sucesos.filter((s) => s.class == 'Tarjeta');\r\n    }\r\n  }\r\n}\r\n","<div>\r\n  <label for=\"listaPartidos\">Lista partidos</label>\r\n  <select name=\"listaPartidos\" [(ngModel)]=\"idPartido\" (change)=\"getPartido()\">\r\n    <option *ngFor=\"let part of partidos\" [value]=\"part.id\">\r\n      <span>{{ part.idLocal }} - {{ part.idVisitante }}</span>\r\n    </option>\r\n  </select>\r\n</div>\r\n\r\n<div *ngIf=\"idPartido!=null\">\r\n  <app-partido  [partido]=\"partido\"\r\n    (mostrarTarjeta)=\"mostrarTarjetas($event)\">\r\n  </app-partido>\r\n</div>\r\n\r\n<div *ngIf=\"muestraTarjetas\">\r\n  <h3>Tarjetas</h3>\r\n  <div *ngFor=\"let tarjeta of tarjetas\">\r\n    <app-tarjeta [tarjeta]=\"tarjeta\">\r\n    </app-tarjeta>\r\n  </div>\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Partido } from '../models/partido';\r\nimport { PartidoImpl } from '../models/partido-impl';\r\nimport { Suceso } from '../models/suceso';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PartidosApiNoInversoService {\r\n\r\n  urlDatosDeportivosPartidos: string = `${environment.hostDatosDeportivos}/partidos`\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getPartidos(): Observable<any>{\r\n    return this.http.get<any>(this.urlDatosDeportivosPartidos);\r\n  }\r\n\r\n  extraerPartidos(respuestaApi: any): Partido[] {\r\n    const partidos: Partido[] = [];\r\n    respuestaApi._embedded.partidos.forEach(p => {\r\n        const pMapeado = this.extraerPartido(p);\r\n        partidos.push(pMapeado);\r\n      });\r\n    return partidos;\r\n  }\r\n\r\n  extraerPartido(partidoDesdeAPI): Partido {\r\n    const pe = this.mapearPartido(partidoDesdeAPI);\r\n    const url = partidoDesdeAPI._links.self.href;\r\n    pe.id = url.slice(url.lastIndexOf('/') + 1, url.length);\r\n    const sucesos: Suceso[] = [];\r\n    this.http.get<any>(`${this.urlDatosDeportivosPartidos}/${pe.id}/sucesos`)\r\n      .subscribe(r => {\r\n        let arraySucesos = r._embedded.goles;\r\n        if (arraySucesos) {\r\n          sucesos.push(...this.mapearSucesos(arraySucesos));\r\n        }\r\n        arraySucesos = r._embedded.tarjetas;\r\n        if (arraySucesos) {\r\n          sucesos.push(...this.mapearSucesos(arraySucesos));\r\n        }\r\n      });\r\n    pe.sucesos = sucesos;\r\n\r\n    return pe;\r\n  }\r\n\r\n  mapearPartido(partidoApi): Partido {\r\n    const partido = new PartidoImpl();\r\n    partido.idLocal = partidoApi.idLocal;\r\n    partido.idVisitante = partidoApi.idVisitante;\r\n    partido.timeStamp = partidoApi.timeStamp;\r\n    partido.sucesos = partidoApi.sucesos;\r\n\r\n    return partido;\r\n  }\r\n\r\n  mapearSuceso(sucesoAPI): Suceso {\r\n    let suceso = null;\r\n    if (sucesoAPI.tipoTarjeta) {\r\n      suceso = {\r\n        class: 'Tarjeta',\r\n        idParticipante: sucesoAPI.idParticipante,\r\n        timestamp: sucesoAPI.timestamp,\r\n        tipoTarjeta: sucesoAPI.tipoTarjeta == 'ROJA' ? '1' : '2'\r\n      }\r\n    }else {\r\n        suceso = {\r\n          class: 'Gol',\r\n          idParticipante: sucesoAPI.idParticipante,\r\n          timestamp: sucesoAPI.timestamp\r\n        }\r\n    }\r\n    return suceso;\r\n    }\r\n\r\n  mapearSucesos(sucesosAPI: any[]): Suceso[] {\r\n    const sucesos: Suceso[] = [];\r\n    sucesosAPI.forEach(s => sucesos.push(this.mapearSuceso(s)));\r\n    return sucesos;\r\n  }\r\n\r\n}\r\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { Partido } from '../../models/partido';\r\n\r\n@Component({\r\n  selector: 'app-partido',\r\n  templateUrl: './partido.component.html',\r\n  styles: [\r\n  ]\r\n})\r\nexport class PartidoComponent implements OnInit {\r\n  @Input() public partido:Partido;\r\n  @Output() public mostrarTarjeta = new EventEmitter<boolean>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<section>\r\n  <h3>Partido del </h3>\r\n  <div>{{ partido.idLocal }} {{ partido.marcadorLocal }} - {{ partido.marcadorVisitante }} {{ partido.idVisitante }}\r\n  </div>\r\n  <button class=\"btn btn-info\" id=\"botonTarjetas\" (click)=\"mostrarTarjeta.emit(true)\" [disabled]=\"!partido.hayTarjetas\">\r\n    Mostrar Tarjetas\r\n  </button>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { PartidosComponent } from './partidos/partidos.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PartidosComponent,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PartidosRoutingModule {}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { faSquareFull } from '@fortawesome/free-solid-svg-icons';\r\nimport { Suceso } from '../../models/suceso';\r\n\r\n@Component({\r\n  selector: 'app-tarjeta',\r\n  templateUrl: './tarjeta.component.html',\r\n  styles: [ \r\n    '.tarjetaRoja { color: red; }',\r\n    '.tarjetaAmarilla { color: yellow; }',\r\n\r\n  ]\r\n})\r\nexport class TarjetaComponent implements OnInit {\r\n  @Input() tarjeta:Suceso;\r\n  tarjetaIcono = faSquareFull;\r\n  esAmarilla: boolean = false;\r\n  esRoja: boolean = false;\r\n\r\n  constructor() { }\r\n\r\n  \r\n  ngOnInit(): void {\r\n    this.determinarColor();\r\n  }\r\n\r\n  determinarColor() {\r\n    if (this.tarjeta.tipoTarjeta == 1) {\r\n      this.esRoja =  true\r\n    } else if (this.tarjeta.tipoTarjeta == 2) {\r\n      this.esAmarilla = true;\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-2\">\r\n        {{tarjeta.idParticipante }}\r\n    </div>\r\n    <div class=\"col-1\">\r\n        <fa-icon [icon]=\"tarjetaIcono\" [ngClass]=\"{'tarjetaRoja': esRoja, 'tarjetaAmarilla': esAmarilla}\"></fa-icon>\r\n    </div>\r\n</div>","import { Partido } from \"./partido\";\r\nimport { Suceso } from \"./suceso\";\r\n\r\nexport class PartidoImpl implements Partido{\r\n  id: number;\r\n  idLocal: string;\r\n  idVisitante: string;\r\n  idCompeticion: string;\r\n  sucesos: Suceso[];\r\n  timeStamp: number;\r\n  marcadorVisitante?: number;\r\n  marcadorLocal?: number;\r\n  hayTarjetas?: boolean;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ObtenedorPartidos } from '../models/obtenedor-partidos';\r\nimport { Partido } from '../models/partido';\r\nimport { PartidosService } from './partidos.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PartidosApiService implements ObtenedorPartidos {\r\n\r\n  constructor(private partidosService:PartidosService) { }\r\n\r\n  getPartidos = this.partidosService.getPartidosApi;\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ObtenedorPartidos } from '../models/obtenedor-partidos';\r\nimport { Partido } from '../models/partido';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PartidosObtenerService implements ObtenedorPartidos {\r\n\r\n  constructor() { }\r\n\r\n  getPartidos: () => Partido[];\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ObtenedorPartidos } from '../models/obtenedor-partidos';\r\nimport { PartidosService } from './partidos.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PartidosEnvironmentService implements ObtenedorPartidos{\r\n\r\n  constructor(private partidosService:PartidosService) { }\r\n\r\n  getPartidos = this.partidosService.getPartidosEnvironment;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { PartidosRoutingModule } from './partidos-routing.module';\r\nimport { PartidosComponent } from './partidos/partidos.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { PartidoComponent } from './partidos/partido/partido.component';\r\nimport { TarjetaComponent } from './partidos/tarjeta/tarjeta.component';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { PartidosObtenerService } from './services/partidos-obtener.service';\r\nimport { PartidosService } from './services/partidos.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { PartidosEnvironmentService } from './services/partidos-environment.service';\r\nimport { PartidosApiService } from './services/partidos-api.service';\r\n\r\nconst factoriaObtenedor = (partidoService: PartidosService) => {\r\n  if (environment.obtenedorPartidos == \"environment\") {\r\n    return new PartidosEnvironmentService(partidoService);\r\n  } else if (environment.obtenedorPartidos == \"api\") {\r\n    return new PartidosApiService(partidoService);\r\n  }\r\n};\r\n@NgModule({\r\n  declarations: [PartidosComponent, PartidoComponent, TarjetaComponent],\r\n  imports: [\r\n    CommonModule,\r\n    PartidosRoutingModule,\r\n    FormsModule,\r\n    FontAwesomeModule\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: PartidosObtenerService,\r\n      useFactory: factoriaObtenedor,\r\n      deps: [PartidosService]\r\n    }\r\n  ]\r\n})\r\nexport class PartidosModule { }\r\n"],"sourceRoot":"webpack:///"}