{"version":3,"sources":["./src/app/propietarios/propietarios.module.ts","./src/app/propietarios/propietarios/propietario/propietario.component.ts","./src/app/propietarios/propietarios/propietario/propietario.component.html","./src/app/propietarios/propietarios-routing.module.ts","./src/app/propietarios/propietario-form/propietario-form.component.ts","./src/app/propietarios/propietario-form/propietario-form.component.html","./src/app/propietarios/services/propietarios.service.ts","./src/app/propietarios/models/propietarios-imp.ts","./src/app/propietarios/propietarios/propietarios.component.ts","./src/app/propietarios/propietarios/propietarios.component.html"],"names":[],"mappings":"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","file":"propietarios-propietarios-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { PropietariosRoutingModule } from './propietarios-routing.module';\r\nimport { PropietariosComponent } from './propietarios/propietarios.component';\r\nimport { PropietarioComponent } from './propietarios/propietario/propietario.component';\r\nimport { PropietarioFormComponent } from './propietario-form/propietario-form.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  declarations: [PropietariosComponent, PropietarioComponent, PropietarioFormComponent],\r\n  imports: [\r\n    CommonModule,\r\n    PropietariosRoutingModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class PropietariosModule { }\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Propietario } from '../../models/propietario';\r\n\r\n@Component({\r\n  selector: 'app-propietario',\r\n  templateUrl: './propietario.component.html',\r\n  styles: [\r\n  ]\r\n})\r\nexport class PropietarioComponent implements OnInit {\r\n  @Input() propietario: Propietario;\r\n  @Output() borrar = new EventEmitter();\r\n  rutaEditar: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    this.rutaEditar = `editar/${this.propietario.id}`\r\n  }\r\n\r\n  public onBorrar(propietario: Propietario){\r\n    return this.borrar.emit(propietario);\r\n  }\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-4\">{{propietario.nombre}} {{propietario.apellido1}} {{propietario.apellido2}}</div>\r\n    <div class=\"col-3\">{{propietario.mail}}</div>\r\n    <div class=\"col-1\"><button class=\"btn btn-primary\" routerLink={{rutaEditar}}>Editar</button></div>\r\n    <div class=\"col-1\"><button class=\"btn btn-primary\" (click)=\"onBorrar(propietario)\">Eliminar</button></div>\r\n</div>\r\n","import { Component, NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { PropietarioFormComponent } from './propietario-form/propietario-form.component';\r\nimport { PropietariosComponent } from './propietarios/propietarios.component';\r\nimport { PropietarioService } from './services/propietarios.service';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PropietariosComponent\r\n  },\r\n  {\r\n    path: 'alta',\r\n    component: PropietarioFormComponent\r\n  },\r\n  {\r\n    path: 'editar/:id',\r\n    component: PropietarioFormComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n  providers: [PropietarioService]\r\n})\r\nexport class PropietariosRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Propietario } from '../models/propietario';\r\nimport { PropietariosImp } from '../models/propietarios-imp';\r\nimport { PropietarioService } from '../services/propietarios.service';\r\n\r\n@Component({\r\n  selector: 'app-propietario-form',\r\n  templateUrl: './propietario-form.component.html',\r\n  styles: [],\r\n})\r\nexport class PropietarioFormComponent implements OnInit {\r\n  tipoAcceso: string;\r\n  esAlta: boolean;\r\n  propietario: Propietario = new PropietariosImp();\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private propietarioService: PropietarioService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.getId();\r\n    if (this.esAlta) {\r\n      this.tipoAcceso = 'Alta';\r\n    } else {\r\n      this.tipoAcceso = 'Modificar';\r\n    }\r\n  }\r\n\r\n  private getId() {\r\n    const idRecuperada = this.route.snapshot.params.id;\r\n    if (idRecuperada != undefined) {\r\n      this.propietarioService\r\n        .getPropietario(idRecuperada)\r\n        .subscribe((response) => {\r\n          this.propietario = response;\r\n          console.log('dentro de la suscripcion', this.propietario.id);\r\n        });\r\n      console.log('fuera de la subscripcion', this.propietario);\r\n    } else {\r\n      this.esAlta = true;\r\n      this.propietario.nombre = '';\r\n      this.propietario.apellido1 = '';\r\n      this.propietario.apellido2 = '';\r\n    }\r\n  }\r\n\r\n  onEnviar() {\r\n    if (this.esAlta) {\r\n      //Lo añadí para ver si solucionaba el problema con la modificación y sigue fallando. Lo comento\r\n      /*\r\n      this.propietario.numeroCuenta = 'unNumeroCuentaConMuchosDigitos';\r\n      this.propietario.foto = 'UnaDireccion/enLocal/oServidor';\r\n      this.propietario.comentarios = 'Comentarios de Prueba';\r\n      this.propietario.negocio = null;\r\n      this.propietario.pedidos = null;\r\n      */\r\n\r\n      this.propietarioService\r\n        .altaPropietaro(this.propietario)\r\n        .subscribe((response) => {\r\n          console.log('alta usuario ', this.propietario.nombre);\r\n          this.router.navigate(['/propietarios']);\r\n        });\r\n    } else {\r\n      this.propietario.pedidos = null;\r\n      this.propietarioService\r\n        .modificarPropietario(this.propietario)\r\n        .subscribe((response) => {\r\n          console.log('modificado usuario ', this.propietario.id);\r\n          this.router.navigate(['/propietarios']);\r\n        });\r\n    }\r\n  }\r\n}\r\n","<h1>{{tipoAcceso}} participante</h1>\r\n\r\n<form #formParticipantes=ngForm>\r\n<div class=\"row\">\r\n  <div class=\"col-1\">\r\n    <label for=\"nombrePropietario\">Nombre</label>\r\n  </div>\r\n  <div class=\"col-3\">\r\n    <input id=\"nombrePropietario\" type=\"text\" [(ngModel)]=\"propietario.nombre\" name=\"id\" required>\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-1\">\r\n    <label for=\"apellido1Prop\">Primer Apellido</label>\r\n  </div>\r\n  <div class=\"col-3\">\r\n    <input type=\"text\" id=\"apellido1Prop\" [(ngModel)]=\"propietario.apellido1\" name=\"apellido1\" required>\r\n  </div>\r\n  <div class=\"col-1\">\r\n    <label for=\"apellido2Prop\">Segundo Apellido</label>\r\n  </div>\r\n  <div class=\"col-3\">\r\n    <input type=\"text\" id=\"apellido2Prop\" [(ngModel)]=\"propietario.apellido2\" name=\"apellido2\">\r\n  </div>\r\n\r\n</div>\r\n<p>\r\n  <button id=\"botonAceptar\" (click)=\"onEnviar()\" class=\"btn btn-primary\" [disabled]=!formParticipantes.form.valid>Aceptar</button>\r\n</p>\r\n</form>\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Propietario } from '../models/propietario';\r\nimport { PropietariosImp } from '../models/propietarios-imp';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PropietarioService {\r\n  private urlEndPoint: string = environment.hostControladores + 'propietarios';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getPropietarios(): Observable<Propietario[]> {\r\n    return this.http.get<Propietario[]>(this.urlEndPoint);\r\n  }\r\n\r\n  getPropietario(id:number): Observable<Propietario> {\r\n    return this.http.get<Propietario>(`${this.urlEndPoint}/${id}`);\r\n  }\r\n\r\n  borrarPropietario(propietario: Propietario): Observable<any> {\r\n    return this.http.delete(`${this.urlEndPoint}/sin-correo/${propietario.id}`);\r\n  }\r\n\r\n  modificarPropietario(propietario: Propietario): Observable<any> {\r\n    return this.http.put<any>(`${this.urlEndPoint}/${propietario.id}`, propietario);\r\n  }\r\n\r\n  altaPropietaro(propietario: Propietario): Observable<any> {\r\n    return this.http.post(`${this.urlEndPoint}/sin-correo`, propietario).pipe(\r\n      catchError(e => {\r\n        alert(e.message)\r\n        return e;\r\n      })\r\n    );\r\n\r\n  }\r\n\r\n  mapearPropietarios(propietariosApi: any[]):Propietario[] {\r\n    let propietarios: Propietario[] = [];\r\n    propietariosApi.forEach(p => {\r\n      propietarios.push(this.mapearPropietario(p));\r\n    });\r\n    console.log(propietarios);\r\n    return propietarios;\r\n  }\r\n\r\n  mapearPropietario(propietarioApi: any): Propietario {\r\n    let propietarioSalida = new PropietariosImp();\r\n    propietarioSalida.id = propietarioApi.id;\r\n    propietarioSalida.nombre = propietarioApi.nombre;\r\n    propietarioSalida.apellido1 = propietarioApi.apellido1;\r\n    propietarioSalida.apellido2 = propietarioApi.apellido2;\r\n    propietarioSalida.mail = propietarioApi.mail;\r\n    propietarioSalida.numeroCuenta = propietarioApi.numeroCuenta;\r\n    propietarioSalida.negocio = propietarioApi.negocio;\r\n    propietarioSalida.foto = propietarioApi.foto;\r\n    propietarioSalida.pedidos = propietarioApi.pedidos;\r\n    propietarioSalida.comentarios = propietarioApi.comentarios;\r\n    return propietarioSalida;\r\n  }\r\n}\r\n","import { Propietario } from \"./propietario\";\r\n\r\nexport class PropietariosImp implements Propietario{\r\n  id: number;\r\n  nombre: string;\r\n  nif: string;\r\n  apellido1: string;\r\n  apellido2: string;\r\n  mail: string;\r\n  numeroCuenta: string;\r\n  negocio: any;\r\n  foto: string;\r\n  pedidos: any[];\r\n  comentarios: string;\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Propietario } from '../models/propietario';\r\nimport { PropietarioService } from '../services/propietarios.service';\r\n\r\n@Component({\r\n  selector: 'app-propietarios',\r\n  templateUrl: './propietarios.component.html',\r\n  styles: [],\r\n})\r\nexport class PropietariosComponent implements OnInit {\r\n  propietarios: Propietario[] = [];\r\n\r\n  constructor(private propietarioService: PropietarioService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.propietarioService.getPropietarios().subscribe((response) => {\r\n      this.propietarios = this.propietarioService.mapearPropietarios(response);\r\n    });\r\n  }\r\n\r\n  onBorrar(propietario: Propietario) {\r\n    this.propietarioService\r\n      .borrarPropietario(propietario)\r\n      .subscribe((response) => {\r\n        console.log(\r\n          'Se elimina a ',\r\n          propietario.nombre,\r\n          propietario.apellido1,\r\n          propietario.apellido2\r\n        );\r\n        this.propietarios = this.propietarios.filter(\r\n          (p) => p.id !== propietario.id\r\n        );\r\n      });\r\n  }\r\n}\r\n","<h2>Propietarios</h2>\r\n<button class=\"btn btn-primary\" routerLink=\"alta\">Nuevo propietario</button>\r\n<div class=\"row\">\r\n    <div class=\"col-4\">Nombre</div>\r\n    <div class=\"col-3\">Email</div>\r\n    <div class=\"col-2\">Acciones</div>\r\n</div>\r\n<hr class=\"w-100\">\r\n<div *ngFor=\"let propietario of propietarios\">\r\n    <app-propietario\r\n        [propietario]=\"propietario\"\r\n        (borrar)=\"onBorrar($event)\"\r\n        (nuevo)=\"onNuevo($event)\"\r\n    >\r\n    </app-propietario>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}